var authLink=document.querySelector(".login-link"),authPopup=document.querySelector(".modal-authorization"),authClose=document.querySelector(".button-close"),authForm=authPopup.querySelector("form"),authLogin=document.querySelector("[name=username]"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("login")}catch(e){isStorageSupport=!1}authLink.addEventListener("click",function(e){e.preventDefault(),authPopup.classList.add("modal-show"),storage?authLogin.value=storage:authLogin.focus()}),authClose.addEventListener("click",function(e){e.preventDefault(),authPopup.classList.remove("modal-show"),authPopup.classList.remove("modal-error")}),authForm.addEventListener("submit",function(e){authLogin.value?isStorageSupport&&localStorage.setItem("login",authLogin.value):(e.preventDefault(),authPopup.classList.remove("modal-error"),authPopup.offsetWidth=authPopup.offsetWidth,authPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&authPopup.classList.contains("modal-show")&&(e.preventDefault(),authPopup.classList.remove("modal-show"),authPopup.classList.remove("modal-error"))});var mapLink=document.querySelector(".about-company-map"),mapPopup=document.querySelector(".modal-map"),mapClose=mapPopup.querySelector(".button-close");mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-show")}),mapClose.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&mapPopup.classList.contains("modal-show")&&(e.preventDefault(),mapPopup.classList.remove("modal-show"))});var fbLink=document.querySelector(".about-company-button"),fbPopup=document.querySelector(".modal-feedback"),fbClose=fbPopup.querySelector(".button-close"),fbForm=fbPopup.querySelector("form"),fbName=fbForm.querySelector("[name=your_name]"),fbEmail=fbForm.querySelector("[name=your_email]"),fbTextarea=fbForm.querySelector("[name=comment-field]");isStorageSupport=!0,storage="";try{storageName=localStorage.getItem("Name")}catch(e){isStorageSupport=!1}try{storageEmail=localStorage.getItem("Email")}catch(e){isStorageSupport=!1}fbLink.addEventListener("click",function(e){e.preventDefault(),fbPopup.classList.add("modal-show"),storageName||storageEmail?(fbName.value=storageName,fbEmail.value=storageEmail,fbTextarea.focus()):fbName.focus()}),fbClose.addEventListener("click",function(e){e.preventDefault(),fbPopup.classList.remove("modal-show"),fbPopup.classList.remove("modal-error")}),fbForm.addEventListener("submit",function(e){fbName.value&&fbEmail.value?isStorageSupport&&(localStorage.setItem("Name",fbName.value),localStorage.setItem("Email",fbEmail.value)):(e.preventDefault(),fbPopup.classList.remove("modal-error"),fbPopup.offsetWidth=fbPopup.offsetWidth,fbPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&fbPopup.classList.contains("modal-show")&&(e.preventDefault(),fbPopup.classList.remove("modal-show"),fbPopup.classList.remove("modal-error"))});
